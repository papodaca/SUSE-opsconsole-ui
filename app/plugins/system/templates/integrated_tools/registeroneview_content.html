<!--temeplate for register oneview -->
<import src="$parent.$parent.$parent" target="toolsCtrl"/>
<modal-overlay show-attribute="toolsCtrl.connectTestOneViewEnable"></modal-overlay>
<div class="col-md-12 oneview-page">
    <div class="oneview-page-header">{{ "system.HPEoneview.connect.header" | translate }}</div>
    <ng-form name="$parent.$parent.$parent.registerOneViewFormInput">
        <oc-input
                value="$parent.$parent.$parent.HPEoneviewname"
                name="oneviewname"
                label="system.HPEoneview.connect.appliancename"
                placeholder="system.HPEoneview.connect.placeholder.appliancename"
                oc-disabled="$parent.$parent.$parent.conectInputDataField"
                oc-required="true"
                validate-text="hpvalidate.name"
                oc-tooltip="'system.oneview.connect.name'"
                type="text"></oc-input>
        <oc-input
                value="$parent.$parent.$parent.HPEoneviewdetails"
                name="oneviewdetails"
                label="system.HPEoneview.connect.appliancedetails"
                placeholder="system.HPEoneview.connect.placeholder.appliancedetails"
                oc-disabled="$parent.$parent.$parent.conectInputDataField"
                validate-text="system.HPEoneview.connect.appliancedetails.validtext"
                type="text"></oc-input>
        <oc-input
                value="$parent.$parent.$parent.HPEoneviewhost"
                name="oneviewhost"
                label="system.HPEoneview.connect.appliancehost"
                placeholder="system.HPEoneview.connect.placeholder.appliancehost"
                oc-disabled="$parent.$parent.$parent.conectInputDataField"
                oc-required="true"
                validate="ipaddr_hostname"
                validate-text="hpvalidate.ipaddr_hostname"
                oc-tooltip="'system.oneview.connect.ip'"
                type="text"></oc-input>
        <oc-input
                value="$parent.$parent.$parent.HPEoneviewappliancedomainname"
                name="oneviewappliancedomainname"
                label="system.HPEoneview.connect.appliancedomainname"
                placeholder="system.HPEoneview.connect.placeholder.appliancedomainname"
                oc-disabled="$parent.$parent.$parent.conectInputDataField"
                oc-tooltip="'system.oneview.connect.domain'"
                type="text"></oc-input>
        <oc-input
                value="$parent.$parent.$parent.HPEoneviewapplianceusername"
                name="oneviewapplianceusername"
                label="system.HPEoneview.connect.applianceusername"
                placeholder="system.HPEoneview.connect.placeholder.applianceusername"
                oc-disabled="$parent.$parent.$parent.conectInputDataField"
                oc-required="true"
                validate="username"
                validate-text="hpvalidate.username"
                oc-tooltip="'system.oneview.connect.username'"
                type="text"></oc-input>
        <div class='register-password-input'>
            <oc-input value="$parent.$parent.$parent.HPEoneviewappliancepassword"
                      name="oneviewappliancepassword"
                      label="system.HPEoneview.connect.appliancepassword"
                      placeholder="system.HPEoneview.connect.placeholder.appliancepassword"
                      oc-disabled="$parent.$parent.$parent.conectInputDataField"
                      oc-required="true"
                      validate-text="hpvalidate.password"
                      type="{{ $parent.$parent.$parent.inputPass ? 'text' : 'password'}}">
            </oc-input>
            <span class="register-showpass">
                <i class="gi-2x helion-icon view-color"
                   ng-class="{'helion-icon-View_pressed': $parent.$parent.$parent.inputPass, 'helion-icon-View': !$parent.$parent.$parent.inputPass}"
                   ng-click="$parent.$parent.$parent.toggleShowPassword()"></i>
            </span>
        </div>
    </ng-form>
    <div class="oneview-buttons col-md-8 integrated_modal_footer_margin">
        <button class="oc-btn oc-btn-default"
                ng-click="closeModal()"
                ng-bind="'system.HPEoneview.connect.cancel' | translate">
        </button>
        <button class="oc-btn oc-btn-primary"
                ng-disabled="$parent.$parent.$parent.registerOneViewFormInput.$invalid || $parent.$parent.$parent.connectTestOneViewEnable"
                ng-click="$parent.$parent.$parent.checkregisterOneviewTestConnection();"
                ng-bind="'system.HPEoneview.connect.testconnection' | translate">
        </button>
        <button class="oc-btn oc-btn-primary"
                ng-disabled="$parent.$parent.$parent.connectOneViewEnable"
                ng-click="$parent.$parent.$parent.connectToOneView();"
                ng-bind="'system.HPEoneview.connect.connect' | translate">
        </button>
    </div>

    <!-- show error modal -->
    <opsmodal showAttribute="toolsCtrl.infoOneViewModalFlag"
              type="error"
              subtype="close"
              header-title="{{ toolsCtrl.infoModalDetails.header }}"
              is-closable="true">
        <div ng-include="'system/templates/integrated_tools/oneview_error_content.html'"></div>
    </opsmodal>
    <!-- show warning modal -->
    <opsmodal showAttribute="toolsCtrl.infoOneViewWarningModalFlag"
              type="warning"
              subtype="close"
              header-title="{{ toolsCtrl.infoModalDetails.header }}"
              is-closable="true">
        <div ng-include="'system/templates/integrated_tools/oneview_error_content.html'"></div>
    </opsmodal>
</div>
