<import src="$parent.$parent.$parent.selectionData" target="data"/>
<import src="$parent.$parent.$parent.$parent" target="controller"/>
<oct-next-prev-ctrl class="col-md-12"/>

<div class="col-md-12 detail-page">
    <h2 class="oc-heading page-title-no-top-margin">{{"system.backuprestore.field.backupsource" | translate}}: {{data.flow_name}}</h2>
    <ocloading ng-show="controller.backuplistloading"></ocloading>
    <div class="one-col-container">
        <div ng-repeat="config in data.configs" ng-if="config.parameters.length > 0">
            <h3 class="oc-heading section-title-column capitalize">{{config.type}}</h3>
            <table>
                <tbody>
                    <tr class="item-line" ng-if="$index == 0">
                        <td class="item-label">{{"system.backuprestore.field.lastbackupdate" | translate | uppercase}}</td>
                        <td>{{data.lastbackupstring}}</td>
                    </tr>
                    <tr class="item-line" ng-repeat="parameter in config.parameters">
                        <td class="item-label">{{parameter.label}}</td>
                        <td ng-if="parameter.confidential === false">{{parameter.value}}</td>
                        <td ng-if="parameter.confidential === true">********</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div ng-repeat="config in data.configs" ng-if="config.dependent_configs.length > 0 && $first">
            <h3 class="oc-heading section-title-column capitalize">{{"system.backuprestore.config.dependent_configs" | translate}}</h3>
            <div class="item-line-date">
                <div class="item-label-short">{{"system.backuprestore.field.lastbackupdate" | translate | uppercase}}</div>
                <div>{{data.lastbackupstring}}</div>
            </div>
            <table>
                <tbody>
                    <tr class="item-line" ng-repeat="dependent_config in config.dependent_configs">
                        <td>{{dependent_config.name}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
